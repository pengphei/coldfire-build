DEVICE    MCF5445x
RAMBAR1   80000000
FLASHBASE 00000000

INSTRAM   RAMBAR1
DATARAM   RAMBAR1
DATASIZE  0x1000

FLASHALG  S29GL064R4(1x16)

.init
wcreg	RAMBAR1 	RAMBAR1 0x221

write.l 0xFC0C4000 0x14777731

/* Init CS0 - Flash0 @ 0x0000_0000 */
write.l 0xFC008000 0x00000000
write.l 0xFC008008 0x000011A0;
write.l 0xFC008004 0x007F0001;

write.b 0xFC0A4074  0x55
write.l 0xFC0B8110  0x4000001A
write.l 0xFC0B8008  0x33633F30
write.l 0xFC0B800C  0x57670000
.delay 200
write.l 0xFC0B8004  0xE20D2C02
write.l 0xFC0B8004  0xE20D2C04
write.l 0xFC0B8004  0xE20D2C04
write.l 0xFC0B8000  0x008D0000
write.l 0xFC0B8000  0x80810000
write.l 0xFC0B8004  0x720D2C00
.delay 100

write.b 0xfc0a4069 0x03
write.b 0xfc060008 0x00
write.b 0xfc060004 0xdd

write.b 0xfc060018 0x00
write.b 0xfc06001c 0x21

write.b 0xfc060008 0x20
write.b 0xfc060008 0x30
write.b 0xfc060008 0x40
write.b 0xfc060008 0x10

write.b 0xfc060000 0x13
write.b 0xfc060000 0x07

write.b 0xfc060008 0x05

write.b 0xfc06000c 0x30
write.b 0xfc06000c 0x31
write.b 0xfc06000c 0x32
write.b 0xfc06000c 0x33
write.b 0xfc06000c 0x34
write.b 0xfc06000c 0x35

